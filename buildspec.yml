version: 0.2
phases: 
 install:
  runtime-versions:
   nodejs: 12

pre-build:
 commands: 
 - echo installing source npm dependencies...
 - npm install 
 - echo installing jest...

build: 
 commands: 
 - echo build started on `date`
 - echo Compiling the Node.js code

 - echo building 
 - npm build
 - npm run jest 
 - echo Running tests...
post_build:
 commands:
 - echo Build completed on `date`

artifacts:
 files:
  - 'jest.config.js'
  - build/*

reports:
  jest_reports:
    files:
      - './sum.js'
    file-format: JUNITXML
    base-directory: .

